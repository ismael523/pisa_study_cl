pacman::p_load(dplyr,
gginference,
gtsummary)
data <- readRDS("input/data_orig/datos_stu_chile")
data <- readRDS("input/data_orig/datos_stu_chile.rds")
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), as.factor))
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), as.factor))
datos_proc$ST004D01T <- recode(datos_proc$ST004D01T," 1= 'Mujer';
2= 'Hombre'")
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), as.factor))
datos_proc$ST004D01T <- recode(datos_proc$ST004D01T," 1= 'Mujer';
2= 'Hombre'")
pacman::p_load(dplyr,
gginference,
gtsummary,
haven)
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
datos_proc$ST004D01T <- recode(datos_proc$ST004D01T," 1= 'Mujer';
2= 'Hombre'")
datos_proc$ST004D01T <- recode(datos_proc$ST004D01T,
`1` = "Mujer",
`2` = "Hombre")
View(datos_proc)
datos_proc$ST004D01T <- recode(datos_proc$ST004D01T,
`1` = "Mujer",
`2` = "Hombre")
View(datos_proc)
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
View(datos_proc)
saverds(datos_proc, "input/data_orig/datos_stu_chile.rds")
saveRDS(datos_proc, "input/data_orig/datos_stu_chile.rds")
pacman::p_load(dplyr,
gginference,
gtsummary,
haven)
data <- readRDS("input/data_orig/datos_stu_chile.rds")
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
saveRDS(datos_proc, "input/data_orig/datos_stu_chile.rds")
install.packages("pacman")
pacman::p_load(dplyr,
gginference,
gtsummary,
haven)
#Cargar base de datos. Esta ya fue procesada en otro script seleccionando solo el identificador de país chile.
#Esto debido al gran peso de la base internacional.
data <- readRDS("input/data_orig/datos_stu_chile.rds")
#Seleccionar variables de interés
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
#Convertir a factor
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
#Guardar base de datos procesada
saveRDS(datos_proc, "input/data_orig/datos_stu_chile.rds")
install.packages("pacman")
data <- readRDS("input/data_orig/datos_stu_chile.rds")
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
saveRDS(datos_proc, "input/data_orig/datos_stu_chile.rds")
data <- readRDS("input/data_orig/datos_stu_chile.rds")
datos_proc <- data %>%
select(CNTSCHID, CNTSTUID, STRATUM, ST001D01T, ST004D01T, starts_with("ST250"), starts_with("ST254"), ST253Q01JA, starts_with("ST326"), starts_with("ST322"), ST337Q08JA, ST338Q08JA, starts_with("IC"))
datos_proc <- datos_proc %>%
mutate(across(c(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA), haven::as_factor))
saveRDS(datos_proc, "input/data_proc/datos_proc.rds")
pacman::p_load(haven,
dplyr,
gginference,
gtsummary,
sjPlot,
table1)
options(scipen = 999) #Desactivar notación científica
rm(list = ls())       #Limpieza enviroment
datos <- readRDS("input/data_proc/datos_proc.rds")
subset <- datos %>%
select(ST004D01T, ST250Q02JA, ST250Q04JA, ST250Q05JA, ICTRES, ICTEFFIC, ICTWKDY, ICTWKEND, ICTAVSCH, ICTSCH, ICTHOME, ICTAVHOM, ICTQUAL)
table1::table1(~ + ST004D01T + ST250Q02JA + ST250Q04JA + ST250Q05JA + ICTRES + ICTEFFIC + ICTWKDY + ICTAVSCH + ICTSCH + ICTHOME + ICTAVHOM + ICTQUAL, data = subset,
caption = "Tabla 1: Estadísticos descriptivos muestra",
footnote = "Fuente: Elaboración propia con datos de PISA.")
